<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSP 复赛系统与 Linux 操作指南</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Cool Gray -->
    <!-- Application Structure Plan: A single-page, vertically scrolling layout is chosen for this guide. Unlike multi-topic lessons, a guide is best presented as a linear, easily scrollable document. The information architecture uses distinct sections for 'System Overview', 'GUI Operations', 'Terminal Skills', 'File I/O', 'Local Testing', and 'Final Checks'. A sticky side-navigation bar allows for quick jumping between these sections, enhancing usability. This structure is more intuitive for a reference document than a tab-based one. -->
    <!-- Visualization & Content Choices:
        - Report Info: Core Concepts (OS, GUI) -> Goal: Inform -> Presentation: Styled text blocks with lists -> Justification: Clear, structured text is best for conveying factual information.
        - Report Info: Terminal Commands -> Goal: Provide a quick reference -> Presentation: An HTML table -> Justification: A table is the standard and most effective way to present command-description pairs.
        - Report Info: Code/Script examples (freopen, data gen, scripts) -> Goal: Provide usable templates -> Presentation: Code blocks with a copy button -> Interaction: 'Copy' button -> Justification: Improves user experience and prevents copy-paste errors, especially for complex commands and scripts.
     -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --bg-main: #f3f4f6;
            --bg-card: #ffffff;
            --text-primary: #111827;
            --text-secondary: #4b5563;
            --accent-primary: #4f46e5;
            --border-color: #e5e7eb;
        }
        html { scroll-behavior: smooth; }
        body { background-color: var(--bg-main); color: var(--text-primary); }
        h2, h3 { color: var(--text-primary); font-weight: 700; }
        .code-block {
            background-color: #1f2937;
            color: #d1d5db;
            border-radius: 0.5rem;
            padding: 1rem;
            position: relative;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
        }
        .copy-btn {
            position: absolute; top: 0.75rem; right: 0.75rem; background-color: #4b5563;
            color: white; padding: 0.25rem 0.5rem; border-radius: 0.375rem;
            font-size: 0.875rem; cursor: pointer; transition: background-color 0.2s;
        }
        .copy-btn:hover { background-color: #6b7280; }
        .side-nav a.active {
            color: var(--accent-primary);
            font-weight: 600;
            border-left-color: var(--accent-primary);
        }
    </style>
</head>
<body class="font-sans">

    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">CSP 复赛系统与 Linux 操作指南</h1>
            <p class="text-lg text-gray-600 mt-2">备赛冲刺，从熟悉环境开始</p>
        </header>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Side Navigation -->
            <aside class="lg:w-1/4 lg:sticky top-8 self-start">
                <nav class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-3">导航目录</h3>
                    <ul class="space-y-2 side-nav">
                        <li><a href="#section-1" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">了解 NOI Linux 2.0</a></li>
                        <li><a href="#section-2" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">图形界面操作</a></li>
                        <li><a href="#section-3" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">核心技能：终端</a></li>
                        <li><a href="#section-4" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">文件操作 (freopen)</a></li>
                        <li><a href="#section-5" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">对拍指南</a></li>
                        <li><a href="#section-6" class="block pl-3 py-1 border-l-2 border-transparent hover:text-indigo-600 hover:border-indigo-600 transition-colors">最终检查事项</a></li>
                    </ul>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="lg:w-3/4 space-y-8">
                <section id="section-1" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">一、了解 NOI Linux 2.0 系统</h2>
                    <p class="text-secondary mb-4">CSP 复赛通常在官方指定的 **NOI Linux 2.0** 操作系统上进行。这是一个基于 Ubuntu 的定制版 Linux 系统。虽然它有图形化桌面，和 Windows 类似，但掌握一些核心的命令行操作，对于编译、测试和提交代码至关重要。</p>
                    <h3 class="text-xl mb-3">主要特点：</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong class="font-semibold">图形化界面:</strong> 提供类似 Windows 的桌面、文件管理器、浏览器等。</li>
                        <li><strong class="font-semibold text-red-600">大小写敏感:</strong> 文件名和命令都严格区分大小写（例如，`Apple.cpp` 和 `apple.cpp` 是两个不同的文件）。</li>
                        <li><strong class="font-semibold">预装软件:</strong>
                            <ul class="list-['-_'] list-inside ml-4 mt-1 text-secondary">
                                <li>**IDE:** Code::Blocks, Dev-C++ (通过 Wine 运行)</li>
                                <li>**编辑器:** Gedit, Geany, Vim, Emacs</li>
                                <li>**编译器:** G++/GCC</li>
                                <li>**调试器:** GDB</li>
                            </ul>
                        </li>
                    </ul>
                </section>

                <section id="section-2" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">二、图形化界面基本操作</h2>
                    <p class="text-secondary mb-4">这部分和 Windows 操作类似，应该能很快上手。</p>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-xl mb-2">1. 创建选手文件夹</h3>
                            <p class="text-secondary">比赛开始后，第一件事就是在指定位置（通常是桌面或主文件夹 `/home/user`）创建一个以你的考号命名的文件夹，例如 `LN-001`。**严格按照要求！** 如果不确定，立即举手询问监考老师。</p>
                        </div>
                        <div>
                            <h3 class="text-xl mb-2">2. 创建题目文件夹和源文件</h3>
                            <p class="text-secondary">在你的考号文件夹内，为每道题创建对应的文件夹，例如J组的 `apple`, `T2`... S组的 `tree`, `T2`... **文件夹名称必须是题目名称的小写！** 并在每个题目文件夹内，创建对应的 C++ 源文件，例如 `apple/apple.cpp`。</p>
                        </div>
                        <div>
                            <h3 class="text-xl mb-2">3. 使用 IDE / 编辑器</h3>
                            <p class="text-secondary">你可以从应用程序菜单中打开 Code::Blocks, Dev-C++ 或 Gedit。对于简单的题目，直接使用 Gedit 或 Geany 可能更快捷。**重要提示:** 无论用什么工具，最终的目的是生成一个名为 `[题目名].cpp` 的源文件，并放在正确的文件夹里。</p>
                        </div>
                    </div>
                </section>
                
                <section id="section-3" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">三、核心技能：终端 (Terminal) 操作</h2>
                    <p class="text-secondary mb-4">终端是 Linux 的灵魂，掌握它能让你在竞赛中游刃有余。通常可以通过点击桌面上的黑色小方块图标打开。</p>
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl mb-3">1. 常用命令</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-left">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="p-3">命令</th>
                                            <th class="p-3">功能</th>
                                            <th class="p-3">示例</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-secondary">
                                        <tr class="border-b"><td class="p-3 font-mono">ls</td><td class="p-3">列出当前目录内容</td><td class="p-3 font-mono">ls</td></tr>
                                        <tr class="border-b"><td class="p-3 font-mono">cd</td><td class="p-3">切换目录</td><td class="p-3 font-mono">cd LN-001/apple</td></tr>
                                        <tr class="border-b"><td class="p-3 font-mono">mkdir</td><td class="p-3">创建新文件夹</td><td class="p-3 font-mono">mkdir T3</td></tr>
                                        <tr class="border-b"><td class="p-3 font-mono">cp</td><td class="p-3">复制文件</td><td class="p-3 font-mono">cp a.cpp b.cpp</td></tr>
                                        <tr class="border-b"><td class="p-3 font-mono">mv</td><td class="p-3">移动/重命名文件</td><td class="p-3 font-mono">mv old.cpp new.cpp</td></tr>
                                        <tr><td class="p-3 font-mono">rm</td><td class="p-3">删除文件</td><td class="p-3 font-mono">rm test.txt</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl mb-3">2. 编译代码 (最重要！)</h3>
                            <p class="text-secondary mb-2">虽然 IDE 可以一键编译，但学会用 `g++` 命令是必须的。基本命令格式: `g++ [源文件名] -o [输出文件名] [选项]`</p>
                            <div class="code-block">
                               <button class="copy-btn" onclick="copyCode(this)">复制</button>
                               <pre><code># 普通编译
g++ apple.cpp -o apple

# 开启O2优化 (竞赛标准，必须掌握！)
g++ apple.cpp -o apple -O2

# 开启O2优化并显示所有警告 (强烈建议)
g++ apple.cpp -o apple -O2 -Wall</code></pre>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl mb-3">3. 运行与测试 (同样重要！)</h3>
                             <p class="text-secondary mb-2">在终端中，运行程序需要在程序名前加上 `./`。使用文件重定向进行本地测试是必备技能。</p>
                             <div class="code-block">
                               <button class="copy-btn" onclick="copyCode(this)">复制</button>
                               <pre><code># 从终端手动输入/输出
./apple

# 文件重定向 (本地测试/对拍必备)
# 将 apple.in 的内容作为输入，将输出写入 apple.out
./apple < apple.in > apple.out</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="section-4" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">四、文件操作 (freopen)</h2>
                    <p class="text-secondary mb-4">在某些IDE或旧版评测系统中，可能不支持终端重定向。`freopen` 是一个C++函数，可以在代码内部重定向标准输入和输出流到文件，方便本地调试。</p>
                    <div class="code-block">
                       <button class="copy-btn" onclick="copyCode(this)">复制</button>
                       <pre><code>#include <cstdio>
#include <iostream>

int main() {
    // 将标准输入重定向到 "input.txt"
    freopen("input.txt", "r", stdin);
    // 将标准输出重定向到 "output.txt"
    freopen("output.txt", "w", stdout);

    int a, b;
    std::cin >> a >> b;
    std::cout << a + b << std::endl;

    // 在本地调试时，可以让程序运行完后看到结果
    // fclose(stdin);
    // fclose(stdout);

    return 0;
}
// 警告：提交到正式评测系统前，
// 必须删除或注释掉所有 freopen 语句，否则会因无法读写标准IO而得0分！</code></pre>
                    </div>
                </section>

                <section id="section-5" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">五、对拍指南 (高手必备)</h2>
                    <p class="text-secondary mb-4">“对拍”是在没有评测机的情况下，检验自己代码正确性的最强武器。其原理是用一个绝对正确但可能很慢的“暴力”程序，去验证你的“正解”程序在大量随机数据下的输出是否一致。</p>
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl mb-2">1. 数据生成器 (data_gen.cpp)</h3>
                            <p class="text-secondary text-sm mb-2">一个随机生成测试数据的程序。注意使用 `srand(time(0))` 来保证每次生成的数据都不同。</p>
                            <div class="code-block text-sm">
                               <button class="copy-btn" onclick="copyCode(this)">复制</button>
                               <pre><code>#include <iostream>
#include <cstdlib>
#include <ctime>

int main() {
    srand(time(0));
    // 根据题目要求生成随机数据
    int n = rand() % 100 + 1;
    std::cout << n << std::endl;
    for (int i = 0; i < n; ++i) {
        std::cout << rand() % 1000 << " ";
    }
    std::cout << std::endl;
    return 0;
}
</code></pre>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl mb-2">2. 你的正解 (my_solution.cpp) 和暴力解 (brute_force.cpp)</h3>
                            <p class="text-secondary text-sm">你需要为同一题目准备这两个版本的代码。</p>
                        </div>
                        <div>
                            <h3 class="text-xl mb-2">3. 对拍脚本</h3>
                            <p class="text-secondary text-sm mb-2">将以下脚本保存到对应文件中，并和编译好的三个程序放在同一目录下运行。</p>
                             <div class="grid md:grid-cols-2 gap-8 items-start mt-2">
                                <div>
                                    <h4 class="text-lg font-semibold mb-2">Windows (`check.bat`)</h4>
                                    <div class="code-block text-sm">
                                       <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                       <pre><code>@echo off
:loop
    data_gen.exe > input.txt
    my_solution.exe < input.txt > my_output.txt
    brute_force.exe < input.txt > correct_output.txt
    fc my_output.txt correct_output.txt
    if not errorlevel 1 (
        echo AC
        goto loop
    ) else (
        echo WA
        pause
    )
goto end
:end
</code></pre>
                                    </div>
                                </div>
                                 <div>
                                    <h4 class="text-lg font-semibold mb-2">Linux/macOS (`check.sh`)</h4>
                                    <div class="code-block text-sm">
                                       <button class="copy-btn" onclick="copyCode(this)">复制</button>
                                       <pre><code>#!/bin/bash
while true; do
    ./data_gen > input.txt
    ./my_solution < input.txt > my_output.txt
    ./brute_force < input.txt > correct_output.txt
    if diff my_output.txt correct_output.txt; then
        echo "AC"
    else
        echo "WA"
        break
    fi
done
</code></pre>
                                    </div>
                                </div>
                             </div>
                        </div>
                    </div>
                </section>

                <section id="section-6" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl mb-4 border-b pb-2">六、最终检查与注意事项</h2>
                    <ul class="list-disc list-inside space-y-3 text-secondary">
                        <li><strong class="font-semibold text-gray-800">文件名和目录:</strong> 比赛结束前，务必再三检查你的文件夹和文件名是否完全符合要求（大小写、拼写）。</li>
                        <li><strong class="font-semibold text-red-600">输入输出:</strong> 确认代码中没有使用 `freopen` 等文件输入输出语句，或者已经将其注释掉。最终提交的代码应使用标准输入输出。</li>
                        <li><strong class="font-semibold text-gray-800">换行符:</strong> Linux 的换行符是 `\n`。在 NOI Linux 环境下创建和编辑文件可以完全避免相关问题。</li>
                        <li><strong class="font-semibold text-gray-800">不要依赖 Windows 特有函数:</strong> 像 `<windows.h>` 头文件、`system("pause")` 等都不能在 Linux 下使用。</li>
                    </ul>
                </section>
            </main>
        </div>
    </div>

<script>
    function copyCode(button) {
        const codeBlock = button.parentElement;
        const code = codeBlock.querySelector('pre, pre code').innerText;
        navigator.clipboard.writeText(code).then(() => {
            const originalText = button.innerText;
            button.innerText = '已复制!';
            setTimeout(() => {
                button.innerText = originalText;
            }, 2000);
        });
    }

    // Active link highlighting for side nav
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('.side-nav a');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                });
            }
        });
    }, { threshold: 0.7 });

    sections.forEach(section => {
        observer.observe(section);
    });

</script>

</body>
</html>

