<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼æ ˆï¼ˆStackï¼‰æ¦‚å¿µæ¼”ç¤º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: The SPA is designed as a top-to-bottom learning journey. It starts with a high-level definition (What is a Stack?), moves to a hands-on interactive visualization (How does it work?), details the specific mechanics (Core Operations), and finally connects the concept to the real world (Applications). This linear, progressive disclosure of information allows users to build knowledge layer by layer, from abstract theory to practical application, which is a highly effective pedagogical approach for complex topics. The interactive visualizer is the centerpiece, allowing for kinesthetic learning. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Stack Definition & LIFO principle -> Goal: Inform -> Presentation: Clear text blocks -> Justification: Foundational knowledge needs to be presented directly and clearly at the start.
        - Report Info: push, pop operations -> Goal: Explore/Understand -> Viz/Presentation: Custom HTML/CSS/JS visual stack -> Interaction: User-controlled push/pop buttons with an input field. The stack visually updates with animations. -> Justification: This is the most critical part. Direct manipulation makes the abstract LIFO concept tangible and memorable. It's learning by doing.
        - Report Info: top, empty, size operations -> Goal: Reinforce -> Presentation: Dynamic text readouts -> Interaction: These fields update automatically based on user actions (push/pop). -> Justification: Provides immediate feedback and reinforces the state changes of the stack.
        - Report Info: Detailed operation descriptions -> Goal: Detail/Reference -> Presentation: Grid of cards -> Interaction: Simple hover states. -> Justification: Organizes detailed information into digestible, easily scannable chunks for reference.
        - Report Info: Stack Applications -> Goal: Contextualize -> Presentation: Grid of cards with Unicode icons -> Interaction: Simple hover states. -> Justification: Connects the abstract data structure to concrete, real-world examples, answering the "why should I learn this?" question. Icons aid quick recognition.
        - Library/Method: All visuals and interactions are built with Vanilla JS and styled with Tailwind CSS to keep the application lightweight and fully self-contained. No external charting libraries are needed as the primary visualization is custom.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #1c1917; /* stone-900 */
        }
        .stack-container {
            min-height: 320px;
            max-width: 200px;
            border: 3px dashed #a8a29e; /* stone-400 */
            background-color: #fafaf9; /* stone-50 */
            transition: background-color 0.3s ease;
        }
        .stack-container.stack-empty {
            background-color: #f5f5f4; /* stone-100 */
        }
        .stack-item {
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-origin: bottom;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        .fade-out {
            animation: fadeOut 0.5s ease-in forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.5); }
        }
        .btn {
            transition: all 0.2s ease-in-out;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .btn:active {
            transform: translateY(0);
            box-shadow: none;
        }
        .section-card {
            background-color: #ffffff;
            border: 1px solid #e7e5e4; /* stone-200 */
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        .section-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-stone-800">äº¤äº’å¼æ ˆï¼ˆStackï¼‰æ¦‚å¿µæ¼”ç¤º</h1>
            <p class="text-stone-500 mt-1">ä¸€ä¸ªå°†æŠ½è±¡æ¦‚å¿µå¯è§†åŒ–çš„Webåº”ç”¨</p>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <!-- 1. å®šä¹‰éƒ¨åˆ† -->
        <section id="definition" class="mb-12">
            <div class="bg-white rounded-lg shadow p-6 md:p-8">
                <h2 class="text-2xl font-bold text-teal-700 mb-4">ä»€ä¹ˆæ˜¯æ ˆï¼Ÿ</h2>
                <p class="text-lg text-stone-700 leading-relaxed mb-4">
                    åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ ˆæ˜¯ä¸€ç§éå¸¸é‡è¦ä¸”åŸºç¡€çš„æŠ½è±¡æ•°æ®ç±»å‹ã€‚å®ƒçš„å·¥ä½œæ–¹å¼å°±åƒæˆ‘ä»¬ç”Ÿæ´»ä¸­çš„ä¸€å ç›˜å­æˆ–è€…ä¸€ä¸ªå­å¼¹åŒ£ï¼šä½ åªèƒ½åœ¨æœ€é¡¶éƒ¨è¿›è¡Œæ“ä½œã€‚
                </p>
                <div class="bg-teal-50 border-l-4 border-teal-500 text-teal-800 p-4 rounded-r-lg">
                    <p class="font-semibold">æ ¸å¿ƒåŸåˆ™ï¼šåè¿›å…ˆå‡º (LIFO - Last-In, First-Out)</p>
                    <p class="mt-1">è¿™æ„å‘³ç€æœ€åä¸€ä¸ªè¢«æ”¾å…¥ï¼ˆå‹å…¥ï¼‰æ ˆçš„å…ƒç´ ï¼Œå°†ä¼šæ˜¯ç¬¬ä¸€ä¸ªè¢«å–å‡ºï¼ˆå¼¹å‡ºï¼‰çš„å…ƒç´ ã€‚è¿™ä¸ªåŸåˆ™æ˜¯æ ˆæ‰€æœ‰è¡Œä¸ºçš„åŸºç¡€ã€‚</p>
                </div>
            </div>
        </section>

        <!-- 2. äº¤äº’å¼å¯è§†åŒ–éƒ¨åˆ† -->
        <section id="interactive-demo" class="mb-12">
            <div class="bg-white rounded-lg shadow p-6 md:p-8">
                <h2 class="text-2xl font-bold text-teal-700 mb-2">åŠ¨æ‰‹è¯•ä¸€è¯•</h2>
                <p class="text-stone-600 mb-6">é€šè¿‡ä¸‹é¢çš„æ§ä»¶ä¸æ ˆè¿›è¡Œäº¤äº’ï¼Œç›´è§‚åœ°æ„Ÿå—LIFOåŸåˆ™ã€‚</p>
                
                <div class="flex flex-col lg:flex-row gap-8 items-start justify-center">
                    
                    <!-- æ§åˆ¶é¢æ¿ -->
                    <div class="w-full lg:w-1/3 space-y-4">
                        <div class="space-y-2">
                            <label for="stack-input" class="font-semibold text-stone-700">è¦å‹å…¥æ ˆçš„æ•´æ•°:</label>
                            <input type="number" id="stack-input" class="w-full p-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition" placeholder="ä¾‹å¦‚: 10">
                        </div>
                        <button id="push-btn" class="w-full btn bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700">
                            å‹å…¥ (Push)
                        </button>
                        <button id="pop-btn" class="w-full btn bg-amber-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-amber-600">
                            å¼¹å‡º (Pop)
                        </button>
                        <div id="message-log" class="text-sm text-stone-500 h-6 text-center transition-opacity duration-300"></div>
                    </div>

                    <!-- æ ˆçš„å¯è§†åŒ– -->
                    <div class="w-full lg:w-auto flex flex-col items-center">
                        <p class="font-bold text-lg mb-2">æ ˆé¡¶ (Top)</p>
                        <div class="w-full stack-container rounded-t-lg p-2 flex flex-col-reverse items-center gap-2" id="stack-visual">
                            <p id="empty-text" class="text-stone-400 self-center my-auto">æ ˆæ˜¯ç©ºçš„</p>
                        </div>
                        <div class="w-full bg-stone-700 text-white text-center font-mono p-2 rounded-b-lg">æ ˆåº•</div>
                    </div>

                    <!-- çŠ¶æ€æ˜¾ç¤º -->
                    <div class="w-full lg:w-1/3 space-y-3">
                        <div class="section-card p-4">
                            <p class="text-sm font-semibold text-stone-500">æ ˆé¡¶å…ƒç´  (Top)</p>
                            <p id="top-value" class="text-2xl font-bold text-teal-600 h-8">-</p>
                        </div>
                        <div class="section-card p-4">
                            <p class="text-sm font-semibold text-stone-500">æ ˆå¤§å° (Size)</p>
                            <p id="size-value" class="text-2xl font-bold text-teal-600">0</p>
                        </div>
                        <div class="section-card p-4">
                            <p class="text-sm font-semibold text-stone-500">æ˜¯å¦ä¸ºç©º? (Empty)</p>
                            <p id="empty-value" class="text-2xl font-bold text-teal-600">æ˜¯</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 3. æ ¸å¿ƒæ“ä½œ -->
        <section id="operations" class="mb-12">
            <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">æ ¸å¿ƒæ“ä½œè¯¦è§£</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="section-card">
                    <h3 class="font-bold text-lg text-stone-800 mb-2">push(element)</h3>
                    <p class="text-stone-600">å°†ä¸€ä¸ªæ–°å…ƒç´ æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ã€‚è¿™æ˜¯å‘æ ˆä¸­æ·»åŠ æ•°æ®çš„å”¯ä¸€æ–¹å¼ã€‚</p>
                </div>
                <div class="section-card">
                    <h3 class="font-bold text-lg text-stone-800 mb-2">pop()</h3>
                    <p class="text-stone-600">ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚å¦‚æœæ ˆä¸ºç©ºï¼Œæ­¤æ“ä½œé€šå¸¸ä¼šå¤±è´¥æˆ–æŠ¥é”™ã€‚</p>
                </div>
                <div class="section-card">
                    <h3 class="font-bold text-lg text-stone-800 mb-2">top() / peek()</h3>
                    <p class="text-stone-600">è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä½†å¹¶ä¸ä¼šå°†å…¶ä»æ ˆä¸­ç§»é™¤ã€‚å¯ä»¥ç”¨æ¥â€œçª¥è§†â€ä¸‹ä¸€ä¸ªå°†è¦è¢«å¼¹å‡ºçš„å…ƒç´ ã€‚</p>
                </div>
                <div class="section-card">
                    <h3 class="font-bold text-lg text-stone-800 mb-2">empty()</h3>
                    <p class="text-stone-600">æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœæ ˆä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œè¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚</p>
                </div>
                <div class="section-card">
                    <h3 class="font-bold text-lg text-stone-800 mb-2">size()</h3>
                    <p class="text-stone-600">è¿”å›æ ˆä¸­å½“å‰å…ƒç´ çš„æ•°é‡ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„çŠ¶æ€æ£€æŸ¥æ“ä½œã€‚</p>
                </div>
            </div>
        </section>

        <!-- 4. åº”ç”¨åœºæ™¯ -->
        <section id="applications">
            <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">æ ˆçš„å®é™…åº”ç”¨</h2>
             <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="section-card flex items-start space-x-4">
                    <span class="text-3xl">âš™ï¸</span>
                    <div>
                        <h3 class="font-bold text-lg text-stone-800">å‡½æ•°è°ƒç”¨æ ˆ</h3>
                        <p class="text-stone-600 mt-1">ç¨‹åºè¿è¡Œæ—¶ï¼Œä½¿ç”¨æ ˆæ¥ç®¡ç†å‡½æ•°çš„è°ƒç”¨é¡ºåºã€å±€éƒ¨å˜é‡å’Œè¿”å›åœ°å€ã€‚</p>
                    </div>
                </div>
                <div class="section-card flex items-start space-x-4">
                    <span class="text-3xl">ğŸ§®</span>
                    <div>
                        <h3 class="font-bold text-lg text-stone-800">è¡¨è¾¾å¼æ±‚å€¼</h3>
                        <p class="text-stone-600 mt-1">ç”¨äºå°†æˆ‘ä»¬ç†Ÿæ‚‰çš„æ•°å­¦è¡¨è¾¾å¼ï¼ˆä¸­ç¼€ï¼‰è½¬æ¢ä¸ºè®¡ç®—æœºæ›´å®¹æ˜“å¤„ç†çš„åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨ç¤ºæ³•ï¼‰å¹¶è®¡ç®—ç»“æœã€‚</p>
                    </div>
                </div>
                <div class="section-card flex items-start space-x-4">
                    <span class="text-3xl">âš–ï¸</span>
                    <div>
                        <h3 class="font-bold text-lg text-stone-800">æ‹¬å·åŒ¹é…</h3>
                        <p class="text-stone-600 mt-1">åœ¨ç¼–è¯‘å™¨å’Œä»£ç ç¼–è¾‘å™¨ä¸­ï¼Œç”¨æ¥æ£€æŸ¥ä»£ç ä¸­çš„æ‹¬å· `()` `[]` `{}` æ˜¯å¦æˆå¯¹å‡ºç°ä¸”æ­£ç¡®åµŒå¥—ã€‚</p>
                    </div>
                </div>
                <div class="section-card flex items-start space-x-4">
                    <span class="text-3xl">âª</span>
                    <div>
                        <h3 class="font-bold text-lg text-stone-800">æµè§ˆå™¨å†å²è®°å½•</h3>
                        <p class="text-stone-600 mt-1">æµè§ˆå™¨çš„â€œåé€€â€æŒ‰é’®åŠŸèƒ½å°±æ˜¯é€šè¿‡ä¸€ä¸ªæ ˆæ¥å®ç°çš„ï¼Œæ¯æ¬¡è®¿é—®æ–°é¡µé¢å°±å‹å…¥æ ˆã€‚</p>
                    </div>
                </div>
                <div class="section-card flex items-start space-x-4">
                    <span class="text-3xl">â†©ï¸</span>
                    <div>
                        <h3 class="font-bold text-lg text-stone-800">æ’¤é”€/é‡åš (Undo/Redo)</h3>
                        <p class="text-stone-600 mt-1">è®¸å¤šè½¯ä»¶ï¼ˆå¦‚æ–‡æœ¬ç¼–è¾‘å™¨ã€ç»˜å›¾å·¥å…·ï¼‰ä¸­çš„æ’¤é”€åŠŸèƒ½ï¼Œå°±æ˜¯å°†æ“ä½œè®°å½•åœ¨æ ˆä¸­ï¼Œæ’¤é”€å³ä¸ºå‡ºæ ˆã€‚</p>
                    </div>
                </div>
             </div>
        </section>
    </main>

    <footer class="text-center py-6 mt-12 border-t border-stone-200">
        <p class="text-stone-500">ä¸ºæ•™å­¦ç›®çš„è€Œåˆ›å»ºçš„äº¤äº’å¼æ¼”ç¤ºã€‚</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const stack = [];
            
            const stackVisual = document.getElementById('stack-visual');
            const stackInput = document.getElementById('stack-input');
            const pushBtn = document.getElementById('push-btn');
            const popBtn = document.getElementById('pop-btn');
            
            const topValue = document.getElementById('top-value');
            const sizeValue = document.getElementById('size-value');
            const emptyValue = document.getElementById('empty-value');
            const emptyText = document.getElementById('empty-text');
            const messageLog = document.getElementById('message-log');
            const stackContainer = document.querySelector('.stack-container');

            function showMessage(msg, isError = false) {
                messageLog.textContent = msg;
                messageLog.style.color = isError ? '#ef4444' : '#57534e';
                messageLog.style.opacity = 1;
                setTimeout(() => {
                    messageLog.style.opacity = 0;
                }, 2000);
            }

            function updateUI() {
                // æ›´æ–°å¯è§†åŒ–æ ˆ
                stackVisual.innerHTML = ''; 
                if (stack.length === 0) {
                    stackVisual.appendChild(emptyText);
                    stackContainer.classList.add('stack-empty');
                } else {
                    stackContainer.classList.remove('stack-empty');
                    stack.forEach((value, index) => {
                        const item = document.createElement('div');
                        item.textContent = value;
                        item.className = 'stack-item w-3/4 bg-teal-500 text-white font-bold text-center p-3 rounded-lg shadow-md fade-in';
                        if (index === stack.length - 1) {
                           item.classList.add('bg-amber-500');
                           item.classList.remove('bg-teal-500');
                        }
                        stackVisual.appendChild(item);
                    });
                }

                // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                sizeValue.textContent = stack.length;
                
                if (stack.length > 0) {
                    topValue.textContent = stack[stack.length - 1];
                    emptyValue.textContent = 'å¦';
                } else {
                    topValue.textContent = '-';
                    emptyValue.textContent = 'æ˜¯';
                }
            }

            pushBtn.addEventListener('click', () => {
                const value = stackInput.value;
                if (value === '') {
                    showMessage('è¯·è¾“å…¥ä¸€ä¸ªå€¼å†å‹å…¥æ ˆï¼', true);
                    return;
                }
                const numValue = parseInt(value, 10);
                if (isNaN(numValue)) {
                    showMessage('è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°ï¼', true);
                    return;
                }
                
                stack.push(numValue);
                stackInput.value = '';
                updateUI();
                showMessage(`å·²å°† ${numValue} å‹å…¥æ ˆé¡¶ã€‚`);
            });

            popBtn.addEventListener('click', () => {
                if (stack.length === 0) {
                    showMessage('æ ˆå·²ä¸ºç©ºï¼Œæ— æ³•å¼¹å‡ºï¼', true);
                    return;
                }
                
                const poppedValue = stack[stack.length - 1];
                
                // è§†è§‰ä¸Šçš„å¼¹å‡ºæ•ˆæœ
                const items = stackVisual.querySelectorAll('.stack-item');
                if (items.length > 0) {
                    const topItem = items[items.length - 1];
                    topItem.classList.remove('fade-in');
                    topItem.classList.add('fade-out');
                    topItem.addEventListener('animationend', () => {
                        stack.pop();
                        updateUI();
                    }, { once: true });
                } else {
                    // Fallback for no items found
                    stack.pop();
                    updateUI();
                }
                
                showMessage(`å·²ä»æ ˆé¡¶å¼¹å‡º ${poppedValue}ã€‚`);
            });
            
            stackInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    pushBtn.click();
                }
            });

            // åˆå§‹çŠ¶æ€
            updateUI();
        });
    </script>
</body>
</html>
